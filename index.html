<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quri â€” tu calculadora de ahorro</title>
  <style>
    :root{
      --bg:#07101a;
      --card:#0b1724;
      --card2:#0d1b2a;
      --text:#e7f0ff;
      --muted:rgba(231,240,255,.72);
      --line:rgba(255,255,255,.08);
      --primary:#18b26b;
      --primary2:#0e8e52;
      --gold:#f1c84c;
      --shadow: 0 16px 45px rgba(0,0,0,.35);
      --radius:16px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      background: radial-gradient(1200px 600px at 20% 0%, rgba(46,125,255,.18), transparent 60%),
                  radial-gradient(900px 500px at 80% 10%, rgba(241,200,76,.16), transparent 55%),
                  var(--bg);
      color:var(--text);
    }

    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:18px 26px;
      border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0));
      gap:14px;
      flex-wrap:wrap;
    }
    .topbar__left{display:flex; gap:18px; align-items:center; min-width:260px}
    .brand-pill{
      display:inline-flex;
      align-items:center;
      padding:8px 12px;
      border:1px solid rgba(241,200,76,.35);
      border-radius:999px;
      color:var(--gold);
      font-weight:800;
      letter-spacing:.08em;
      font-size:12px;
      white-space:nowrap;
    }
    .topbar__titlewrap h1{margin:0; font-size:20px; font-weight:900}
    .topbar__titlewrap p{margin:4px 0 0; color:var(--muted); font-size:13px}
    .topbar__right{display:flex; gap:10px; align-items:center}

    .wrap{max-width:1200px; margin:18px auto; padding:0 18px}
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }

    h2{margin:0 0 14px; font-size:18px}
    h3{margin:0 0 12px; font-size:16px}
    .mt12{margin-top:12px}
    .mt16{margin-top:16px}
    .mt20{margin-top:20px}
    .mt24{margin-top:24px}

    .formgrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 680px){
      .formgrid{grid-template-columns:1fr}
    }

    .field label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin-bottom:6px;
    }
    .field input, .field select{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.25);
      color:var(--text);
      outline:none;
    }
    .field input::placeholder{color:rgba(231,240,255,.45)}

    .actions{margin-top:14px}

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:flex-end;
    }

    .btn{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.06);
      color:var(--text);
      padding:12px 14px;
      border-radius:12px;
      cursor:pointer;
      font-weight:800;
    }
    .btn:hover{filter:brightness(1.06)}
    .btn--primary{
      background: linear-gradient(180deg, var(--primary), var(--primary2));
      border-color: rgba(24,178,107,.35);
    }
    .btn--secondary{
      background: rgba(241,200,76,.12);
      border-color: rgba(241,200,76,.25);
    }
    .btn--ghost{
      background: transparent;
    }
    .w100{width:100%}
    .hint{color:rgba(231,240,255,.55); font-size:12px}

    .product{
      position:relative;
      display:flex;
      gap:14px;
      align-items:center;
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
    }
    .product__imgwrap{
      width:84px; height:84px;
      border-radius:14px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      flex:0 0 auto;
    }
    .product__imgwrap img{
      width:100%;
      height:100%;
      object-fit:contain;
    }
    .product__name{font-weight:1000; font-size:14px}
    .product__meta{margin-top:4px; font-size:12px}
    .muted{color:var(--muted)}
    .badge{
      position:absolute;
      right:12px; top:12px;
      padding:7px 10px;
      border-radius:999px;
      background: rgba(241,200,76,.16);
      border:1px solid rgba(241,200,76,.28);
      color: var(--gold);
      font-weight:1000;
      font-size:12px;
      white-space:nowrap;
    }

    .result-big{
      padding:16px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.25);
    }
    .result-big__label{color:var(--muted); font-size:13px}
    .result-big__value{font-size:34px; font-weight:1000; margin-top:6px}
    .result-big__sub{color:rgba(231,240,255,.70); margin-top:6px; font-size:13px}

    .result-row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    @media (max-width: 680px){
      .result-row{grid-template-columns:1fr}
    }
    .mini{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
    }
    .mini__label{color:var(--muted); font-size:12px}
    .mini__value{margin-top:6px; font-size:22px; font-weight:1000}

    .progress{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
    }
    .progress__label{color:var(--muted); font-size:12px}
    .bar{
      margin-top:10px;
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      overflow:hidden;
    }
    .bar__fill{
      height:100%;
      background: linear-gradient(90deg, rgba(24,178,107,.9), rgba(241,200,76,.9));
      width:0%;
    }
    .progress__sub{margin-top:10px; color:rgba(231,240,255,.75); font-size:12px}

    .callout{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
    }
    .callout__label{color:var(--muted); font-size:12px}
    .callout__value{margin-top:6px; font-size:28px; font-weight:1000}
    .callout__sub{margin-top:6px; color:rgba(231,240,255,.65); font-size:12px}

    .contact{
      padding:14px;
      border-radius:16px;
      border:1px solid rgba(24,178,107,.22);
      background: rgba(24,178,107,.08);
    }
    .contact__label{font-size:12px; color:rgba(231,240,255,.85); margin-bottom:10px}
    .contact input{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      color:var(--text);
      margin-bottom:10px;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="topbar__left">
      <span class="brand-pill">ALICORP</span>
      <div class="topbar__titlewrap">
        <h1>Quri â€” tu calculadora de ahorro</h1>
        <p>Buscando el dorado perfecto que rinda mÃ¡s</p>
      </div>
    </div>
    <div class="topbar__right">
      <button class="btn btn--ghost" id="btnClear">Limpiar datos</button>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">

      <!-- LEFT -->
      <section class="card">
        <h2>Tu consumo de aceite hoy</h2>

        <div class="formgrid">
          <div class="field">
            <label for="precioBaldeActual">Precio por balde (S/)</label>
            <input id="precioBaldeActual" type="number" inputmode="decimal" placeholder="Ingresa aquÃ­: precio">
          </div>

          <div class="field">
            <label for="litrosPorBaldeActual">Litros por balde (L)</label>
            <input id="litrosPorBaldeActual" type="number" inputmode="decimal" value="18">
          </div>

          <div class="field">
            <label for="baldesPorSemana">Baldes por semana</label>
            <input id="baldesPorSemana" type="number" inputmode="decimal" placeholder="Ingresa aquÃ­: baldes">
          </div>

          <div class="field">
            <label for="numeroLocales">NÃºmero de locales</label>
            <input id="numeroLocales" type="number" inputmode="numeric" placeholder="Ingresa aquÃ­: locales">
          </div>
        </div>

        <div class="actions">
          <button class="btn btn--primary w100" id="btnAnalyze">Analizar tu aceite</button>
        </div>

        <h3 class="mt24">Elige tu aceite especializado</h3>

        <div class="product" aria-label="Producto seleccionado">
          <div class="product__imgwrap">
            <!-- OJO: esta ruta asume que tienes /images/tonderofrituras.png -->
            <img src="images/tonderofrituras.png" alt="Tondero Frituras">
          </div>
          <div class="product__info">
            <div class="product__name" id="prodName">Tondero Frituras</div>
            <div class="product__meta">
              <span class="muted" id="prodMeta">S/ 130 Â· 20 L Â· Rendimiento garantizado</span>
            </div>
          </div>
          <div class="badge" id="prodBadge">+50% rendimiento</div>
        </div>

        <div class="row mt20">
          <div class="field" style="min-width:220px;">
            <label for="periodo">Periodo de anÃ¡lisis</label>
            <select id="periodo">
              <option value="month" selected>Por mes</option>
              <option value="year">Por aÃ±o</option>
            </select>
          </div>

          <button class="btn btn--secondary" id="btnSave">Guardar (PDF)</button>
          <button class="btn btn--ghost" id="btnClear2">Limpiar datos</button>
        </div>

        <p class="hint mt12" id="status"></p>
      </section>

      <!-- RIGHT -->
      <section class="card">
        <h2>Resultado de tu transformaciÃ³n</h2>

        <div class="result-big">
          <div class="result-big__label">ðŸ’¡ Ahorro estimado</div>
          <div class="result-big__value" id="ahorroEstimado">S/ 0</div>
          <div class="result-big__sub" id="baldesGratis">â‰ˆ 0 baldes gratis por mes</div>
        </div>

        <div class="result-row mt16">
          <div class="mini">
            <div class="mini__label">ðŸ“Š Gasto actual (<span id="periodLabel1">mes</span>)</div>
            <div class="mini__value" id="gastoActual">S/ 0</div>
          </div>
          <div class="mini">
            <div class="mini__label">ðŸ§ª Gasto con aceite especializado (<span id="periodLabel2">mes</span>)</div>
            <div class="mini__value" id="gastoNuevo">S/ 0</div>
          </div>
        </div>

        <div class="progress mt16">
          <div class="progress__label">ðŸ§¾ Progreso de ahorro</div>
          <div class="bar">
            <div class="bar__fill" id="barFill" style="width:0%"></div>
          </div>
          <div class="progress__sub" id="progressText">Ahorro del 0% vs. situaciÃ³n actual</div>
        </div>

        <div class="callout mt16">
          <div class="callout__label">ðŸ’¡ Â¿Hasta cuÃ¡nto podrÃ­as pagar por balde sin gastar mÃ¡s?</div>
          <div class="callout__value" id="precioMaximo">S/ â€”</div>
          <div class="callout__sub">Precio mÃ¡ximo por balde del aceite seleccionado.</div>
        </div>

        <div class="contact mt16">
          <div class="contact__label">ðŸš€ Â¿Quieres comprobar este rendimiento en tu cocina?</div>
          <input id="correo" type="email" value="asesoriatecnica@alicorp.com.pe" />
          <button class="btn btn--primary w100" id="btnCTA">Quiero recibir asesorÃ­a tÃ©cnica</button>
        </div>

        <p class="hint mt12" id="ctaStatus"></p>
      </section>

    </div>
  </main>

  <script>
    // === TODO EN INDEX (JS EMBEBIDO) ===

    const PRODUCTO = {
      name: "Tondero Frituras",
      pricePerBucket: 130,      // S/
      litersPerBucket: 20,      // L
      rendimientoPlus: 0.50     // +50% => consumes 1/(1+0.5)
    };

    const $ = (id) => document.getElementById(id);

    const precioBaldeActualEl = $("precioBaldeActual");
    const litrosPorBaldeActualEl = $("litrosPorBaldeActual");
    const baldesPorSemanaEl = $("baldesPorSemana");
    const numeroLocalesEl = $("numeroLocales");
    const periodoEl = $("periodo");

    const ahorroEstimadoEl = $("ahorroEstimado");
    const baldesGratisEl = $("baldesGratis");
    const gastoActualEl = $("gastoActual");
    const gastoNuevoEl = $("gastoNuevo");
    const barFillEl = $("barFill");
    const progressTextEl = $("progressText");
    const precioMaximoEl = $("precioMaximo");
    const statusEl = $("status");

    const periodLabel1El = $("periodLabel1");
    const periodLabel2El = $("periodLabel2");

    const btnAnalyze = $("btnAnalyze");
    const btnClear = $("btnClear");
    const btnClear2 = $("btnClear2");
    const btnSave = $("btnSave");
    const btnCTA = $("btnCTA");

    const ctaStatusEl = $("ctaStatus");

    $("prodName").textContent = PRODUCTO.name;
    $("prodMeta").textContent = `S/ ${PRODUCTO.pricePerBucket} Â· ${PRODUCTO.litersPerBucket} L Â· Rendimiento garantizado`;
    $("prodBadge").textContent = `+${Math.round(PRODUCTO.rendimientoPlus*100)}% rendimiento`;

    function money(n){
      if (!isFinite(n)) return "S/ 0";
      return "S/ " + Math.round(n).toLocaleString("es-PE");
    }

    function getMultiplier(){
      // month: 4.33 semanas aprox. / year: 52 semanas
      return periodoEl.value === "year" ? 52 : 4.33;
    }

    function setPeriodLabels(){
      const p = periodoEl.value === "year" ? "aÃ±o" : "mes";
      periodLabel1El.textContent = p;
      periodLabel2El.textContent = p;
    }

    function readInputs(){
      return {
        precioBaldeActual: Number(precioBaldeActualEl.value),
        litrosPorBaldeActual: Number(litrosPorBaldeActualEl.value),
        baldesPorSemana: Number(baldesPorSemanaEl.value),
        numeroLocales: Number(numeroLocalesEl.value),
      };
    }

    function validate(v){
      const errs = [];
      if (!(v.precioBaldeActual > 0)) errs.push("precio por balde");
      if (!(v.litrosPorBaldeActual > 0)) errs.push("litros por balde");
      if (!(v.baldesPorSemana > 0)) errs.push("baldes por semana");
      if (!(v.numeroLocales > 0)) errs.push("nÃºmero de locales");
      return errs;
    }

    function renderEmpty(msg){
      gastoActualEl.textContent = "S/ 0";
      gastoNuevoEl.textContent = "S/ 0";
      ahorroEstimadoEl.textContent = "S/ 0";
      baldesGratisEl.textContent = "â‰ˆ 0 baldes gratis por " + (periodoEl.value === "year" ? "aÃ±o" : "mes");
      barFillEl.style.width = "0%";
      progressTextEl.textContent = "Ahorro del 0% vs. situaciÃ³n actual";
      precioMaximoEl.textContent = "S/ â€”";
      statusEl.textContent = msg || "";
    }

    function calc(){
      setPeriodLabels();

      const mult = getMultiplier();
      const v = readInputs();
      const errs = validate(v);

      if (errs.length){
        renderEmpty(`Completa: ${errs.join(", ")}.`);
        return;
      }

      statusEl.textContent = "";

      // Consumo actual por periodo (baldes)
      const baldesPeriodo = v.baldesPorSemana * mult * v.numeroLocales;

      // Litros consumidos hoy por periodo
      const litrosPeriodo = baldesPeriodo * v.litrosPorBaldeActual;

      // Litros requeridos con especializado (rinde mÃ¡s => necesitas menos litros)
      const litrosPeriodoNuevo = litrosPeriodo / (1 + PRODUCTO.rendimientoPlus);

      // Baldes especializados requeridos (segÃºn litros por balde del producto)
      const baldesPeriodoNuevo = litrosPeriodoNuevo / PRODUCTO.litersPerBucket;

      // Gastos
      const gastoActual = baldesPeriodo * v.precioBaldeActual;
      const gastoNuevo = baldesPeriodoNuevo * PRODUCTO.pricePerBucket;

      const ahorro = gastoActual - gastoNuevo;

      gastoActualEl.textContent = money(gastoActual);
      gastoNuevoEl.textContent = money(gastoNuevo);
      ahorroEstimadoEl.textContent = money(Math.max(0, ahorro));

      // Baldes gratis
      const baldesGratis = PRODUCTO.pricePerBucket > 0 ? Math.max(0, ahorro) / PRODUCTO.pricePerBucket : 0;
      const label = periodoEl.value === "year" ? "aÃ±o" : "mes";
      baldesGratisEl.textContent = `â‰ˆ ${baldesGratis.toFixed(1)} baldes gratis por ${label}`;

      // % ahorro vs actual
      const pct = gastoActual > 0 ? (ahorro / gastoActual) : 0;
      const pctShown = Math.max(0, pct);
      const pctClamped = Math.max(0, Math.min(0.6, pctShown)); // visual cap
      barFillEl.style.width = `${pctClamped * 100}%`;
      progressTextEl.textContent = `Ahorro del ${(pctShown * 100).toFixed(0)}% vs. situaciÃ³n actual`;

      // Precio mÃ¡ximo por balde especializado para no gastar mÃ¡s
      const precioMax = baldesPeriodoNuevo > 0 ? (gastoActual / baldesPeriodoNuevo) : NaN;
      precioMaximoEl.textContent = isFinite(precioMax) ? ("S/ " + precioMax.toFixed(0)) : "S/ â€”";
    }

    function clearForm(){
      precioBaldeActualEl.value = "";
      baldesPorSemanaEl.value = "";
      numeroLocalesEl.value = "";
      // mantiene litrosPorBaldeActual por defecto
      calc();
    }

    btnAnalyze.addEventListener("click", calc);
    btnClear.addEventListener("click", clearForm);
    btnClear2.addEventListener("click", clearForm);
    periodoEl.addEventListener("change", calc);

    [precioBaldeActualEl, litrosPorBaldeActualEl, baldesPorSemanaEl, numeroLocalesEl].forEach(i => {
      i.addEventListener("input", calc);
    });

    btnSave.addEventListener("click", () => window.print());

    btnCTA.addEventListener("click", () => {
      const correo = $("correo")?.value?.trim() || "";
      const ok = correo.includes("@") && correo.includes(".");
      ctaStatusEl.textContent = ok
        ? "Listo. Te contactaremos para asesorÃ­a tÃ©cnica."
        : "Revisa el correo antes de enviar.";
    });

    // init
    renderEmpty("Completa los campos para ver el ahorro.");
  </script>
</body>
</html>
